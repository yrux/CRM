"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5780],{9519:(e,a,r)=>{r.d(a,{Z:()=>l});var t=r(7757),s=r.n(t);function n(e,a,r,t,s,n,i){try{var o=e[n](i),l=o.value}catch(e){return void r(e)}o.done?a(l):Promise.resolve(l).then(t,s)}function i(e,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var o=r(9669);const l=new(function(){function e(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e)}var a,r,t,l,c;return a=e,r=[{key:"create",value:(l=s().mark((function e(a){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("/api/file",a).then((function(e){return{status:1,data:e.data}})).catch((function(e){return{status:0,data:e.response.data.errors}}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})),c=function(){var e=this,a=arguments;return new Promise((function(r,t){var s=l.apply(e,a);function i(e){n(s,r,t,i,o,"next",e)}function o(e){n(s,r,t,i,o,"throw",e)}i(void 0)}))},function(e){return c.apply(this,arguments)})}],r&&i(a.prototype,r),t&&i(a,t),e}())},5780:(e,a,r)=>{r.r(a),r.d(a,{default:()=>d});var t=r(7757),s=r.n(t),n=r(2986),i=r(9519);function o(e,a,r,t,s,n,i){try{var o=e[n](i),l=o.value}catch(e){return void r(e)}o.done?a(l):Promise.resolve(l).then(t,s)}function l(e){return function(){var a=this,r=arguments;return new Promise((function(t,s){var n=e.apply(a,r);function i(e){o(n,t,s,i,l,"next",e)}function l(e){o(n,t,s,i,l,"throw",e)}i(void 0)}))}}var c;const u={name:"auth.company.edit",mounted:function(){this.startProfile()},methods:{startProfile:function(){var e=this;return l(s().mark((function a(){var r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.id=e.$route.params.id,a.next=3,n.Z.me();case 3:r=a.sent,e.name=r.name,e.email=r.email,e.password="",e.imageurl=r.image_url;case 8:case"end":return a.stop()}}),a)})))()},resetError:function(){this.errors={name:[],password:[],email:[],file:[]}},addbrand:(c=l(s().mark((function e(){var a,r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetError(),!this.$refs.form.validate()){e.next=28;break}return this.btnloading=!0,(a=new FormData).append("name",this.name),a.append("email",this.email),this.password&&a.append("password",this.password),this.image.size&&a.append("file",this.image),this.btnloading=!1,e.next=11,n.Z.updateProfile(a,this.id);case 11:if((r=e.sent).status){e.next=19;break}r.data.name&&(this.errors.name=r.data.name),r.data.email&&(this.errors.email=r.data.email),r.data.password&&(this.errors.password=r.data.password),r.data.file&&(this.errors.file=r.data.file),e.next=28;break;case 19:if(!this.image.size){e.next=27;break}return(t=new FormData).append("ref_id",r.data.id),t.append("table_name","users"),t.append("type","1"),t.append("attachements[0]",this.image),e.next=27,i.Z.create(t);case 27:this.startProfile();case 28:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},data:function(){return{name:"",id:0,email:"",password:"",imageurl:"",errors:{name:[],email:[],password:[],file:[]},image:{},loading:!1,btnloading:!1,rules:{required:function(e){return!!e||"Required."}}}}};const d=(0,r(1900).Z)(u,(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("v-row",{staticClass:"grey lighten-5 pa-10 rounded elevation-10",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.loading,callback:function(a){e.loading=a},expression:"loading"}},[r("v-row",[r("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{rules:[e.rules.required],"error-messages":e.errors.name,label:"Company Name"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1),e._v(" "),r("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{rules:[e.rules.required],"error-messages":e.errors.email,label:"Email"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}})],1),e._v(" "),r("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{"error-messages":e.errors.password,label:"password",type:"password",autocomplete:"new-password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),e._v(" "),r("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[r("v-file-input",{attrs:{"show-size":"","error-messages":e.errors.file,accept:"image/png, image/jpeg, image/bmp",label:"Title Image",rules:[e.rules.required],"truncate-length":"15"},model:{value:e.image,callback:function(a){e.image=a},expression:"image"}}),e._v(" "),r("v-img",{attrs:{"lazy-src":e.imageurl,"max-height":"100","max-width":"150",contain:"",src:e.imageurl}})],1),e._v(" "),r("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[r("v-btn",{attrs:{color:"secondary",elevation:"1",large:"",raised:"",loading:e.btnloading,disabled:e.btnloading},on:{click:e.addbrand}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);